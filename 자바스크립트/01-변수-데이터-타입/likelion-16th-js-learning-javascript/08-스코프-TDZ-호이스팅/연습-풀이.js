// --------------------------------------------------------------------------
// 연습 문제: 스코프와 호이스팅 기초
// --------------------------------------------------------------------------

// 1. 전역 변수와 지역 변수의 차이를 확인해보세요.
let message = '전역 메시지: 안녕하세요!'

function sayMessage() {
  let message = '지역 메시지: 반갑습니다!'
  // 여기서 message를 출력하면 무엇이 나올까요?
  // 답변: '지역 메시지: 반갑습니다!'
  // 설명: 함수 내부에서는 외부보다 내부(지역) 변수가 우선순위가 높습니다.
  console.log('1. 함수 내부:', message)
}

// 함수 호출
sayMessage()

// 여기서 message를 출력하면 무엇이 나올까요?
// 답변: '전역 메시지: 안녕하세요!'
// 설명: 함수 밖에서는 함수 내부의 지역 변수에 접근할 수 없으므로 전역 변수가 출력됩니다.
console.log('2. 함수 외부:', message)


// 2. 함수 선언문 호이스팅
// 아래 함수는 선언보다 호출이 먼저 작성되었습니다. 실행이 될까요?
// 실행 결과를 예측해보고 코드를 실행하세요.
// 답변: 네. 실행이 됩니다.
// 설명: 함수 선언문(function)은 코드 최상단으로 
//      끌어올려지므로(호이스팅), 선언 전 호출이 가능합니다.
dance()

function dance() {
  console.log('3. 춤을 춥니다! 💃 (호이스팅 동작)')
}


// --------------------------------------------------------------------------
// 연습 문제: TDZ(일시적 사각지대) 탐정 놀이
// --------------------------------------------------------------------------

// 아래 코드에는 치명적인 에러(ReferenceError)가 숨어 있습니다.
// 주석을 풀고 실행했을 때, 몇 번째 줄에서 에러가 발생할지 예측하고 이유를 적어보세요.

console.log('--- TDZ 테스트 시작 ---')

let fruit = '사과'

{
  // console.log(fruit) // (A) -> ⚠️ 여기서 에러 발생!
  let fruit = '바나나' // (B)
}

console.log('--- TDZ 테스트 종료 ---')

// 정답 예측: (A)번 라인에서 에러 발생
// 이유: 블록({}) 안에서 'fruit'가 let으로 다시 선언되었기 때문에, 
//       자바스크립트는 전역 변수 '사과' 대신 블록 내부의 '바나나'를 사용하려고 합니다.
//       하지만 (A) 시점은 아직 '바나나'가 선언되기 전(TDZ 구간)이므로 접근할 수 없어 에러가 납니다.


// --------------------------------------------------------------------------
// 연습 문제: 함수 표현식과 안전한 리팩토링
// --------------------------------------------------------------------------

// 1. 함수 표현식의 호이스팅 문제 해결하기
// 아래 코드는 에러가 발생합니다. 올바르게 작동하도록 순서를 수정하세요.

const sing = function() {
  console.log('4. 노래를 부릅니다! 🎤')
}

sing() // ✅ 호출 위치 수정: 함수 표현식(const)은 선언 후에 호출해야 합니다.


// 2. 위험한 var 코드를 안전한 let/const로 리팩토링하기
// 아래 코드는 var의 호이스팅 때문에 에러 없이 undefined가 출력됩니다.
// 이를 let 또는 const로 바꾸고, 논리적으로 올바른 순서로 수정하세요.

// 1. 변수 선언 (const 또는 let 사용)
const job = '개발자'

// 2. 출력 로그 작성 (선언부 아래로 이동)
console.log('5. 내 직업은 ' + job + '입니다.')
