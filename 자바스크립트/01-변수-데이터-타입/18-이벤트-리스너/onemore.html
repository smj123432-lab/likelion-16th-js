<!DOCTYPE html>
<html lang="ko-KR">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>이벤트 리스너(Event Listener)</title>
  </head>
  <body>
    <section>
      <h2>요즘 이벤트 모델</h2>
      <input type="button" value="click-me" />
    </section>

    <section>
      <h2>옛날 이벤트 모델</h2>
      <button type="button" onclick="handleHello()">클릭 미!</button>

      <h2>옛날 이벤트 모델</h2>
      <button type="button" onclick="handleGreet()">anem</button>

      <h2>옛날 이벤트 모델</h2>
      <p>
        이벤트 속성에 중복된 함수 값은 덮어씌어져요
        <button id="verification" type="button">무드</button>
      </p>
    </section>
    <script>
      // 옛날 이벤트 모델에서는 동일한 이벤트 속성에
      // 함수 값이 여러번 설정되면 맨 마지막에 설정된 함수만 실행됩니다.
      // 원리: 변수는 단 하나의 값만 기억된다는 사실
      //      객체.속성 = 단 하나의 값만 기억 가능
      verification.onclick = function () {
        console.log("나 함순데?");
      };
      verification.onclick = function () {
        console.log("내가 함순데?");
        // 1번만 작동하는 이벤트
        //  결과를 출력했으니 이제 이벤트를 그만 리스닝할래
        verification.onclick = null;
      };
      // 온클릭의 기본 값은 null
    </script>
    <script>
      // 문서 요소 객체 선택 (Css 선택자 활용)
      const clickMeButton = document.querySelector('input[type="button"]');
      // console.log(clickMeButton);

      // 1. 요즘 이벤트 모델: addEventListener
      //    문서객체.addEventListener('이벤트 타입', 리스너_또는_핸들러)
      clickMeButton.addEventListener("click", () => {
        const mood = window.prompt("당신의 기분을 알려주세요", "맑음🌤️");
        //  console.log('글쿤요 당신의 오늘 기분은 ' + mood + '군요!');
        if (mood !== null) {
          console.log("그렇군요 당신의 오늘 기분은 " + mood + "군요!");
        }
      });
      // 여러 이벤트 리스너 연결
      clickMeButton.addEventListener("click", () =>
        console.log("나 함수임 ㅋㅋ")
      );
      clickMeButton.addEventListener("click", () =>
        console.log("? 내가 함순데?")
      );
      clickMeButton.addEventListener("click", () =>
        console.log("ㅋㅋ ㅈㄹ ㄴ 내가 찐 함수임")
      );

      // 2. 옛날 이벤트 모델: onclick, ondblclick, ...
      //    전역에서 접근 간으한 함수 선언 또는 표현식으로 작성
      //    onclick="window.alert('hello')" <- 함수 실행 코드
      //    onclick="handleHello()" <- 함수 실행 코드
      function handleHello() {
        window.alert("hello");
      }
      function handleGreet() {
        const mood = window.prompt("오늘 기분 어떰", "행복?");
        if (mood !== null) {
          console.log("와 오늘 기분이 " + mood + "하군요?");
        }
      }
    </script>
  </body>
</html>
